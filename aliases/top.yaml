---
name: chatops.top
action_ref: st2_chatops_aliases.top
description: Show top processes
formats:
  - display: "show top <hosts=db>"
    representation:
      - "show top {{ hosts=db }}"
      - "show top on {{ hosts=db }}"
result:
  format: |
    {% if execution.status == 'succeeded' %}top on {{ execution.parameters.hosts }}: 
    /code {{ execution.result.stdout }}

    {~}{% else %}
    *Exit Code:* /code {{ execution.result.return_code }}
    *Stderr:* /code {{ execution.result.stderr }}
    *Stdout:* /code {{ execution.result.stdout }}
    {% endif %}
